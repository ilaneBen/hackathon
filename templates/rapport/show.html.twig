{% extends 'base.html.twig' %}

{% block title %}Rapport{% endblock %}

{% block body %}
    <h1>Rapport</h1>

    <table class="table">
        <tbody>
        <tr>
            <th>Id</th>
            <td>{{ rapport.id }}</td>
        </tr>
        <tr>
            <th>Date</th>
            <td>{{ rapport.date ? rapport.date|date('Y-m-d H:i:s') : '' }}</td>
        </tr>
        <tr>
            <th>Content</th>
            <td>{{ rapport.content }}</td>
        </tr>
        </tbody>
    </table>
{% if rapport.job is not empty %}
    <table class="table">
        <thead>
        <tr>
            <th>Id</th>
            <th>Nom</th>
            <th>Résultat</th>
            <th>Detail</th>
            <!-- Ajoutez d'autres en-têtes si nécessaire -->
        </tr>
        </thead>
        <tbody>
        {% for job in rapport.job %}
            <tr>
                <td>{{ job.id }}</td>
                <td>{{ job.name }}</td>
                <td>{{ job.resultat ? 'Oui' : 'Non' }}</td>
                <td>   {% for detailItem in job.detail %}
                        {{ detailItem }}
                    {% endfor %}</td>
            </tr>

        {% endfor %}
        </tbody>
    </table>



{% else %}
    <p>Aucun job trouvé pour ce rapport.</p>
{% endif %}


    {{ include('rapport/_delete_form.html.twig') }}
{% endblock %}
